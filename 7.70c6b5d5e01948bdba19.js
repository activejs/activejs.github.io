(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{TJDR:function(o,t,e){"use strict";e.r(t),e.d(t,"TodoModule",(function(){return v}));var i=e("nIj0"),n=e("2kYt"),d=e("sEIs"),c=e("EM62"),s=e("XxrK");class a{constructor(o){this.title=o,this.title=o.trim(),this.completed=!1,this.id=([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(o=>(o^crypto.getRandomValues(new Uint8Array(1))[0]&15>>o/4).toString(16)))}}class l{constructor(){this.todosUnit=new s.f({id:"todoMVC",persistent:!0,immutable:!0,cacheSize:1/0}),this.remaining=0,this.completed=0,this.todosUnit.subscribe((()=>{this.completed=this.todosUnit.findByProp("completed",!0).length,this.remaining=this.todosUnit.length-this.completed}))}get allCompleted(){return this.todosUnit.length===this.completed}add(o){this.todosUnit.push(new a(o))}remove(o){const[t]=this.todosUnit.findByProp("id",o)[0];this.todosUnit.remove(t)}update(o,t){const[e,i]=this.todosUnit.findByProp("id",o)[0];i.title=t.trim(),i.title?this.todosUnit.set(e,i):this.todosUnit.remove(e)}setAllTo(o){this.todosUnit.dispatch((t=>(t.forEach((t=>t.completed=o)),t)))}removeCompleted(){this.todosUnit.removeIf((o=>o.completed))}toggleCompletion(o){const[t,e]=this.todosUnit.findByProp("id",o)[0];e.completed=!e.completed,this.todosUnit.set(t,e)}}let r=(()=>{class o{transform(o,t){return"boolean"==typeof t?o.filter((o=>o.completed===t)):o}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275pipe=c.Gb({name:"todoFilter",type:o,pure:!0}),o})();const p=["editedTodo"];function b(o,t){if(1&o&&c.Ib(0,"input",17),2&o){const o=c.Wb(2);c.ac("checked",o.todoStore.allCompleted)}}function m(o,t){if(1&o){const o=c.Ob();c.Nb(0,"input",23,24),c.Ub("blur",(function(){return c.fc(o),c.Wb(3).stopEditing()}))("keyup.enter",(function(){c.fc(o);const t=c.ec(1),e=c.Wb().$implicit;return c.Wb(2).updateTodo(e.id,t.value)}))("keyup.escape",(function(){return c.fc(o),c.ec(1).blur()})),c.Mb()}if(2&o){const o=c.Wb().$implicit;c.ac("value",o.title)}}function g(o,t){if(1&o){const o=c.Ob();c.Nb(0,"li"),c.Nb(1,"div",18),c.Nb(2,"input",19),c.Ub("click",(function(){c.fc(o);const e=t.$implicit;return c.Wb(2).todoStore.toggleCompletion(e.id)})),c.Mb(),c.Nb(3,"label",20),c.Ub("dblclick",(function(){c.fc(o);const e=t.$implicit;return c.Wb(2).startEditing(e.id)})),c.mc(4),c.Mb(),c.Nb(5,"button",21),c.Ub("click",(function(){c.fc(o);const e=t.$implicit;return c.Wb(2).todoStore.remove(e.id)})),c.Mb(),c.Mb(),c.kc(6,m,2,1,"input",22),c.Mb()}if(2&o){const o=t.$implicit,e=c.Wb(2);c.zb("completed",o.completed)("editing",o.id===e.editingTodoId),c.xb(2),c.ac("checked",o.completed),c.xb(2),c.nc(o.title),c.xb(2),c.ac("ngIf",o.id===e.editingTodoId)}}function h(o,t){if(1&o){const o=c.Ob();c.Nb(0,"section",12),c.kc(1,b,1,1,"input",13),c.Nb(2,"label",14),c.Ub("click",(function(){c.fc(o);const t=c.Wb();return t.todoStore.setAllTo(!t.todoStore.allCompleted)})),c.Mb(),c.Nb(3,"ul",15),c.kc(4,g,7,7,"li",16),c.Xb(5,"todoFilter"),c.Xb(6,"async"),c.Mb(),c.Mb()}if(2&o){const o=c.Wb();c.xb(1),c.ac("ngIf",o.todoStore.todosUnit.length),c.xb(3),c.ac("ngForOf",c.Zb(5,2,c.Yb(6,5,o.todoStore.todosUnit),o.showWithCompletionStatus))}}function f(o,t){if(1&o){const o=c.Ob();c.Nb(0,"button",30),c.Ub("click",(function(){return c.fc(o),c.Wb(2).todoStore.removeCompleted()})),c.mc(1," Clear completed "),c.Mb()}}function u(o,t){if(1&o){const o=c.Ob();c.Nb(0,"footer",25),c.Nb(1,"span",26),c.Nb(2,"strong"),c.mc(3),c.Mb(),c.mc(4),c.Mb(),c.Nb(5,"ul",27),c.Nb(6,"li"),c.Nb(7,"a",28),c.Ub("click",(function(t){c.fc(o);const e=c.Wb();return t.preventDefault(),e.showWithCompletionStatus=null})),c.mc(8," All "),c.Mb(),c.Mb(),c.Nb(9,"li"),c.Nb(10,"a",28),c.Ub("click",(function(t){c.fc(o);const e=c.Wb();return t.preventDefault(),e.showWithCompletionStatus=!0})),c.mc(11," Completed "),c.Mb(),c.Mb(),c.Nb(12,"li"),c.Nb(13,"a",28),c.Ub("click",(function(t){c.fc(o);const e=c.Wb();return t.preventDefault(),e.showWithCompletionStatus=!1})),c.mc(14," Remaining "),c.Mb(),c.Mb(),c.Mb(),c.kc(15,f,2,0,"button",29),c.Mb()}if(2&o){const o=c.Wb();c.xb(3),c.nc(o.todoStore.remaining),c.xb(1),c.oc(" ",1==o.todoStore.remaining?"item":"items"," left "),c.xb(3),c.zb("selected",null==o.showWithCompletionStatus),c.xb(3),c.zb("selected",!0===o.showWithCompletionStatus),c.xb(3),c.zb("selected",!1===o.showWithCompletionStatus),c.xb(2),c.ac("ngIf",o.todoStore.completed>0)}}let x=(()=>{class o{constructor(o){this.todoStore=o,this.newTodoText=""}addTodo(){this.newTodoText.trim().length&&(this.todoStore.add(this.newTodoText),this.newTodoText="")}updateTodo(o,t){this.todoStore.update(o,t),this.stopEditing()}startEditing(o){this.editingTodoId=o,setTimeout((()=>{this.editedTodo.nativeElement.focus()}))}stopEditing(){this.editingTodoId=null}}return o.\u0275fac=function(t){return new(t||o)(c.Hb(l))},o.\u0275cmp=c.Bb({type:o,selectors:[["ajs-todomvc"]],viewQuery:function(o,t){var e;1&o&&c.pc(p,!0),2&o&&c.dc(e=c.Vb())&&(t.editedTodo=e.first)},decls:28,vars:6,consts:[[1,"badge-links"],["href","https://github.com/activejs/activejs/tree/master/projects/ajs/src/app/modules/examples/todomvc","target","_blank","rel","noopener"],[1,"emoji"],[1,"todoapp"],[1,"header"],["placeholder","What needs to be done?","autofocus","",1,"new-todo",3,"ngModel","ngModelChange","keyup.enter"],["class","main",4,"ngIf"],["class","footer",4,"ngIf"],[1,"time-travel"],[1,"btn","mt","color-primary","mr",3,"disabled","click"],[1,"btn","mt","color-primary",3,"disabled","click"],["href","http://todomvc.com/","target","_blank","rel","noopener"],[1,"main"],["class","toggle-all","type","checkbox",3,"checked",4,"ngIf"],[3,"click"],[1,"todo-list"],[3,"completed","editing",4,"ngFor","ngForOf"],["type","checkbox",1,"toggle-all",3,"checked"],[1,"view"],["type","checkbox",1,"toggle",3,"checked","click"],[3,"dblclick"],[1,"destroy",3,"click"],["class","edit",3,"value","blur","keyup.enter","keyup.escape",4,"ngIf"],[1,"edit",3,"value","blur","keyup.enter","keyup.escape"],["editedTodo",""],[1,"footer"],[1,"todo-count"],[1,"filters"],["href","#",3,"click"],["class","clear-completed",3,"click",4,"ngIf"],[1,"clear-completed",3,"click"]],template:function(o,t){1&o&&(c.Nb(0,"section",0),c.Nb(1,"a",1),c.mc(2," </> Source "),c.Nb(3,"span",2),c.mc(4,"\ud83d\udd17"),c.Mb(),c.Mb(),c.Mb(),c.Nb(5,"section",3),c.Nb(6,"header",4),c.Nb(7,"h1"),c.mc(8," todos "),c.Mb(),c.Nb(9,"h3"),c.mc(10,"Persistent & Cache-enabled"),c.Mb(),c.Nb(11,"input",5),c.Ub("ngModelChange",(function(o){return t.newTodoText=o}))("keyup.enter",(function(){return t.addTodo()})),c.Mb(),c.Mb(),c.kc(12,h,7,7,"section",6),c.kc(13,u,16,9,"footer",7),c.Mb(),c.Nb(14,"section",8),c.Nb(15,"button",9),c.Ub("click",(function(){return t.todoStore.todosUnit.goBack()})),c.Nb(16,"b"),c.mc(17,"\u21ba"),c.Mb(),c.mc(18," Undo "),c.Mb(),c.Nb(19,"button",9),c.Ub("click",(function(){return t.todoStore.todosUnit.clearValue()})),c.mc(20," Clear all "),c.Mb(),c.Nb(21,"button",10),c.Ub("click",(function(){return t.todoStore.todosUnit.goForward()})),c.Nb(22,"b"),c.mc(23,"\u21bb"),c.Mb(),c.mc(24," Redo "),c.Mb(),c.Mb(),c.Nb(25,"footer"),c.Nb(26,"a",11),c.mc(27,"What is TodoMVC?"),c.Mb(),c.Mb()),2&o&&(c.xb(11),c.ac("ngModel",t.newTodoText),c.xb(1),c.ac("ngIf",t.todoStore.todosUnit.length>0),c.xb(1),c.ac("ngIf",t.todoStore.todosUnit.length>0),c.xb(2),c.ac("disabled",!t.todoStore.todosUnit.cacheIndex),c.xb(4),c.ac("disabled",t.todoStore.todosUnit.isEmpty),c.xb(2),c.ac("disabled",t.todoStore.todosUnit.cacheIndex===t.todoStore.todosUnit.cachedValuesCount-1))},directives:[i.b,i.g,i.j,n.k,n.j],pipes:[r,n.b],styles:['@charset "UTF-8";.dark-mode ajs-todomvc .todoapp{background-color:transparent}.dark-mode ajs-todomvc .footer,.dark-mode ajs-todomvc .main,.dark-mode ajs-todomvc .todo-list li{border-bottom:1px solid #252b31}.dark-mode ajs-todomvc .footer:before{box-shadow:0 1px 1px rgba(0,0,0,.2),0 8px 0 -3px #252b31,0 9px 1px -3px rgba(0,0,0,.2),0 16px 0 -6px #252b31,0 17px 2px -6px rgba(0,0,0,.2)}ajs-todomvc{color:inherit;min-width:230px;max-width:550px;margin:0 auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:flex;flex-direction:column}ajs-todomvc>*{flex-shrink:0}ajs-todomvc .hidden{display:none}ajs-todomvc .todoapp{position:relative;margin-top:50px;background-color:#fff;box-shadow:0 2px 4px 0 rgba(0,0,0,.2),0 25px 50px 0 rgba(0,0,0,.1)}ajs-todomvc .todoapp h1{font-size:100px;font-weight:100;text-align:center;line-height:1;color:#0172ff;text-rendering:optimizeLegibility}ajs-todomvc .todoapp h3{text-align:center;font-weight:300}ajs-todomvc .edit,ajs-todomvc .new-todo{position:relative;margin:0;width:100%;font-size:24px;font-family:inherit;font-weight:inherit;line-height:1.4em;color:inherit;padding:6px;border:1px solid #999;box-shadow:inset 0 -1px 5px 0 rgba(0,0,0,.2);box-sizing:border-box;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}ajs-todomvc .new-todo{padding:16px 16px 16px 60px;border:none;background:rgba(0,0,0,.003);box-shadow:inset 0 -2px 1px rgba(0,0,0,.03)}ajs-todomvc .main{position:relative;z-index:2}ajs-todomvc .footer,ajs-todomvc .main,ajs-todomvc .todo-list li{border-bottom:1px solid #ebeeee}ajs-todomvc .toggle-all{text-align:center;border:none;opacity:0;position:absolute}ajs-todomvc .toggle-all+label{width:60px;height:34px;font-size:0;position:absolute;top:-52px;left:-8px;transform:rotate(90deg)}ajs-todomvc .toggle-all+label:before{content:"\u276f";font-size:22px;padding:10px 27px}ajs-todomvc .toggle-all:checked+label:before{color:#737373}ajs-todomvc .todo-list{margin:0;padding:0;list-style:none}ajs-todomvc .todo-list li{position:relative;font-size:24px}ajs-todomvc .todo-list li:last-child{border-bottom:none}ajs-todomvc .todo-list li.editing{border-bottom:none;padding:0}ajs-todomvc .todo-list li.editing .edit{display:block;width:506px;padding:12px 16px;margin:0 0 0 43px}ajs-todomvc .todo-list li.editing .view{display:none}ajs-todomvc .todo-list li .toggle{text-align:center;width:40px;height:auto;position:absolute;top:0;bottom:0;opacity:0;margin:auto 0;border:none;-webkit-appearance:none;-moz-appearance:none;appearance:none}ajs-todomvc .todo-list li .toggle+label{background-image:url("data:image/svg+xml;utf8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2240%22%20height%3D%2240%22%20viewBox%3D%22-10%20-18%20100%20135%22%3E%3Ccircle%20cx%3D%2250%22%20cy%3D%2250%22%20r%3D%2250%22%20fill%3D%22none%22%20stroke%3D%22%23ededed%22%20stroke-width%3D%223%22/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:0}ajs-todomvc .todo-list li .toggle:checked+label{background-image:url("data:image/svg+xml;utf8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2240%22%20height%3D%2240%22%20viewBox%3D%22-10%20-18%20100%20135%22%3E%3Ccircle%20cx%3D%2250%22%20cy%3D%2250%22%20r%3D%2250%22%20fill%3D%22none%22%20stroke%3D%22%23bddad5%22%20stroke-width%3D%223%22/%3E%3Cpath%20fill%3D%22%235dc2af%22%20d%3D%22M72%2025L42%2071%2027%2056l-4%204%2020%2020%2034-52z%22/%3E%3C/svg%3E")}ajs-todomvc .todo-list li label{word-break:break-all;padding:15px 15px 15px 60px;display:block;line-height:1.2;transition:color .4s}ajs-todomvc .todo-list li.completed label{text-decoration:line-through}ajs-todomvc .todo-list li .destroy{display:none;position:absolute;top:0;right:10px;bottom:0;width:40px;height:40px;margin:auto 0 11px;font-size:30px;color:#cc9a9a;transition:color .2s ease-out}ajs-todomvc .todo-list li .destroy:hover{color:#af5b5e}ajs-todomvc .todo-list li .destroy:after{content:"\xd7"}ajs-todomvc .todo-list li:hover .destroy{display:block}ajs-todomvc .todo-list li .edit{display:none}ajs-todomvc .todo-list li.editing:last-child{margin-bottom:-1px}ajs-todomvc .footer{display:flex;justify-content:space-between;align-items:center;padding:10px 15px}ajs-todomvc .footer>*{z-index:1}ajs-todomvc .footer:before{content:"";position:absolute;z-index:0;right:0;bottom:0;left:0;height:50px;overflow:hidden;box-shadow:0 1px 1px rgba(0,0,0,.2),0 8px 0 -3px #ebeeee,0 9px 1px -3px rgba(0,0,0,.2),0 16px 0 -6px #ebeeee,0 17px 2px -6px rgba(0,0,0,.2)}ajs-todomvc .footer .todo-count{min-width:70px}ajs-todomvc .footer .todo-count strong{font-weight:300}ajs-todomvc .footer .filters{margin:0 0 0 42px;padding:0;list-style:none}ajs-todomvc .footer .filters li{display:inline}ajs-todomvc .footer .filters li a{color:inherit;margin:3px;padding:3px 7px;text-decoration:none;border:1px solid transparent;border-radius:3px}ajs-todomvc .footer .filters li a.selected,ajs-todomvc .footer .filters li a:hover{border-color:#0172ff}ajs-todomvc .footer .clear-completed{color:inherit;font-weight:inherit}ajs-todomvc .footer .clear-completed:hover{text-decoration:underline}ajs-todomvc .time-travel{margin-top:40px;display:flex;justify-content:space-around}ajs-todomvc .time-travel button{min-height:2.4em}ajs-todomvc>footer{margin-top:5em;text-align:center}ajs-todomvc>footer a{font-size:2em;color:#0172ff}@media screen and (-webkit-min-device-pixel-ratio:0){ajs-todomvc .todo-list li .toggle,ajs-todomvc .toggle-all{background:none}ajs-todomvc .todo-list li .toggle{height:40px}}@media (max-width:430px){ajs-todomvc .footer{height:50px}ajs-todomvc .filters{bottom:10px}}'],encapsulation:2}),o})(),v=(()=>{class o{}return o.\u0275mod=c.Fb({type:o}),o.\u0275inj=c.Eb({factory:function(t){return new(t||o)},providers:[l],imports:[[n.c,i.f,d.e.forChild([{path:"**",component:x}])]]}),o})()}}]);